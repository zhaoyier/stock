syntax = "proto3";
package oktights;
import "common/any.proto";
import "common/time.proto";
import "spk/spk_public.proto";
// ---------------------------------------------------------------------------
// Common


message Module {
	string id = 1;
	string name = 2;
	common.Any params = 4;
}

message DisablePlatform {
  bool disablePC = 1;
  bool disableMob = 2;
}

message DisableCatalog {
  bool SG = 1;
  bool MY = 2;
  bool TH = 3;
  bool ID = 4;
  bool PK = 5;
}

message Platform {
	bool pc = 1;
	bool mob = 2;
}

message Catalog {
	bool SG = 1;
	bool MY = 2;
	bool ID = 3;
	bool TH = 4;
	bool PK = 5;
}

message Size {
	int32 width = 1;
	int32 height = 2;
}

message SizeRatio {
	int32 width = 1;
	int32 height = 2;
}

message Area {
	double left = 1;
	double top = 2;
	double width = 3;
	double height = 4;
}

enum Mode {
	ModeInvalid = 0;
	ModeSame = 1;
	ModeDifferent = 2;
}

message ImageLink {
	string image = 1;
	string link = 2;
}

message Background {
  string pc = 1;
  string mob = 2;
}

// ---------------------------------------------------------------------------
// Banner

message Banner {
	BannerPC pc = 1;
	BannerMob mob = 2;
		DisablePlatform dislablePlatform = 3;
		DisableCatalog disableCatalog = 4;
}

message BannerPC {
	Size size = 1;
	Mode mode = 2;
	repeated BannerLinks links = 3;
	int32 activityId = 4;
}

message BannerMob {
	SizeRatio ratio = 1;
	Mode mode = 2;
	repeated BannerLinks links = 3;
	int32 activityId = 4;
}

message BannerLinks {
	string catalog = 1;
	repeated BannerLinkItem items = 2;
}

message BannerLinkItem {
  string imageUrl = 1;
  string linkUrl = 2;
}

// ---------------------------------------------------------------------------
// MagicBanner
message MagicBanner {
	DisablePlatform dislablePlatform = 1;
	bool isSame = 2;
	repeated MagicBannerCatalog banners = 3;
	DisableCatalog disableCatalog = 4;
}

message MagicBannerCatalog{
  string catalog = 1;
  MagicBannerInfo banner = 2;
}

message MagicBannerInfo {
	MagicBannerPc pc = 1;
	MagicBannerMob mob = 2;
}

message MagicBannerArea {
	Area area = 1;
	string link = 2;
	string type = 3;
}

message MagicBannerPc {
	Size size = 1;
	string image = 2;
	repeated MagicBannerArea areas = 3;
	int32 activityId = 4;
}

message MagicBannerMob {
	SizeRatio ratio = 1;
	string image = 2;
	repeated MagicBannerArea areas = 3;
	int32 activityId = 4;
}

// ---------------------------------------------------------------------------
// MagicVoucher
message MagicVoucher {
	DisablePlatform dislablePlatform = 1;
	bool isSame = 2;
	repeated MagicVoucherCatalog banners = 3;
	DisableCatalog disableCatalog = 4;
}

message MagicVoucherCatalog{
  string catalog = 1;
  MagicVoucherInfo voucher = 2;
}

message MagicVoucherInfo {
	MagicVoucherPc pc = 1;
	MagicVoucherMob mob = 2;
}

message MagicVoucherArea {
	Area area = 1;
	Voucher voucherInfo = 2;
	string type = 3;
}

message MagicVoucherPc {
	Size size = 1;
	string image = 2;
	repeated MagicVoucherArea areas = 3;
	int32 activityId = 4;
}

message MagicVoucherMob {
	SizeRatio ratio = 1;
	string image = 2;
	repeated MagicVoucherArea areas = 3;
	int32 activityId = 4;
}

// ---------------------------------------------------------------------------
// TextEditor

message TextEditor {
	string bgcolor = 1;
  	Mode mode = 2;
	map<string, string> text = 3;
	DisablePlatform dislablePlatform = 4;
	int32 activityId =5;
	DisableCatalog disableCatalog = 6;
}

// ---------------------------------------------------------------------------
// NavBar

enum Location {
	LocationInvalid = 0;
	LocationLeft = 1;
	LocationRight = 2;
}

message NavBar {
	Location location = 1;
	int32 displayOn = 2;
	Mode mode = 3;
	repeated NavBarFloor floors = 4;
	DisablePlatform dislablePlatform = 5;
	int32 activityId = 6;
	DisableCatalog disableCatalog = 7;
}

enum NavBarFloorType {
	NavBarFloorTypeInvalid = 0;
	NavBarFloorTypeAnchor = 1;
	NavBarFloorTypeLink = 2;
}

message NavBarFloor {
	NavBarFloorType type = 1;
	NavBarFloorLink link = 2;
	NavBarFloorAnchor anchor = 3;
}

message NavBarFloorLink {
	string color = 2;
	string image = 3;
	string pcLink = 4;
	string mobLink = 5;
	map<string, string> copyWriting = 6;
}

message NavBarFloorAnchor {
	string color = 1;
	string image = 2;
	map<string, string> copywriting = 3;
	int32 anthor = 4;
}

// ---------------------------------------------------------------------------
// Register
enum RegisterWay {
	FaceBook = 0;
	Google = 1;
}

message TextInfo {
	string color = 1;
	string text = 2;
}

message Register {
	Mode mode = 1;
	map<string, ImageLink> links = 2;
	DisablePlatform dislablePlatform = 3;
	int32 activityId = 4;
	repeated Voucher SG = 5;
	repeated Voucher MY = 6;
	repeated Voucher TH = 7;
	repeated Voucher ID = 8;
  	string secretData = 9;
	repeated RegisterWay regWays = 10;
	//注册成功跳转页面
	string succLink = 11;
	//返回跳转页面
	map<string, string> returnLink = 12;
	// 注册框顶部文案、图片链接
	map<string, string> regBtnText = 13;
	// 注册按钮文案
	map<string, TextInfo> topText = 14;
	map<string, TextInfo> mobTopText = 15;
	map<string, string> mobReturnLink = 16;
	DisableCatalog disableCatalog = 17;
}

// ---------------------------------------------------------------------------
// ProductModule

message ProductModule {
	string TmplPc = 1;
	string TmplMob = 2;
	bool hasTab = 3;
	bool stickTab = 4;
  	DisablePlatform dislablePlatform = 5;
    	DisableCatalog disableCatalog = 10;
	repeated ProductModuleTab tabs = 6;
	repeated ProductModuleItem items = 7;
	int32 activityId = 8;
	bool isFlashSale = 9;
	string mobColor1 = 14;
	string mobColor2 = 11;
	string mobColor3 = 12;
	string pcColor1 = 13;
}

enum ProductModuleItemMode {
	ProductModuleItemModeInvalid = 0;
	ProductModuleItemModeProduct = 1;
	ProductModuleItemModeBanner = 2;
	ProductModuleItemModeLink = 3;
}

message ProductModuleTab {
	int32 index = 1;
	string name = 2;
	// 每个位可能是banner或者product
	repeated ProductModuleItem items = 3;
}

message ProductModuleItem {
	// mode 决定内容是 banner 还是 product
	ProductModuleItemMode mode = 1;
	ProductModuleItemProduct product = 2;
	ProductModuleItemBanner banner = 3;
	ProductModuleItemLink link = 4;
}

message ProductModuleItemLink {
	string url = 1;
	string image = 2;
}

message ProductModuleItemBanner {

}

message ProductModuleItemProduct {
	// 新增时必选
	int64 gpid = 19; // 必选
	// 新增时可选
	int32 imageIdx = 6; // 选择第N张图片
	string specialTag = 14;
  	string SpecialTagColor = 22;
	double specialPrice = 15;
	common.Time specialStartDate = 20;
	common.Time specialEndDate = 21;
	int32 tab = 8;
	double price = 2;

	// 自动赋值
	string refId = 1;
	double originPrice = 9;
	bool isSoldOut = 3;
	string image = 4;
	string productLink = 5;
	string name = 7;
	string imageLink = 10;
	string imageNumber = 11;
	string seller = 12;
	double sellPrice = 13;
	bool isPrime = 16;
	double weight = 17;
	int32 primeShipmentType = 18; // 确认这里是否单单是prime
  	string sourceModule = 23;
  	int32 sourceId = 24;
    	bool isCashOff = 25;
  	string originName = 26;
        ProductFlashSale flashSale = 27;
	ProductMNCashOff MNCashoff = 28;
	bool isFreeShipping = 29;
	repeated spk.XTitleIcon titleIcons = 30;
}

message ProducteModuleItemBanner {
	string text = 1;
	ImageLink link = 2;
}

message ProductFlashSale {
	double price = 1;
	double originPrice = 2;
	int32 stock = 3;
	common.Time startTime = 4;
	common.Time endTime = 5;
}

message ProductMNCashOff {
	string tagImg = 1;
}

// ---------------------------------------------------------------------------
// ProductModuleCarousel (轮播商品)

message ProductModuleCarousel {
	ProductModuleCarouselBanner bannerSize = 1;
	map<string, string> template = 2;
  	DisablePlatform dislablePlatform = 3;
    DisableCatalog disableCatalog = 8;
	bool stickTab = 4;
	int32 carouselPage = 5; // 0 表示没设置, 默认PC是3, mob固定是6
	repeated ProductModuleTabB tabs = 6;
	int32 activityId = 7;
	bool mobIsShowProductName = 9;
	string mobColor1 = 10;
	string mobColor2 = 11;
	string mobColor3 = 12;
	string pcColor1 = 13;
}

message ProductModuleTabB {
	int32 index = 1;
	string name = 2;
	// 每个位可能是banner或者product
	BannerLinkItem bannerPC = 4;
	BannerLinkItem bannerMob = 5;
	repeated ProductModuleItem items = 3;
}

enum ProductModuleCarouselBanner {
	ProductModuleCarouselBannerInvalid = 0;
	ProductModuleCarouselBannerS285x369 = 1;
	ProductModuleCarouselBannerS372x546 = 2;
	ProductModuleCarouselBannerS560x758 = 3;
  	ProductModuleCarouselBannerNone = 4;
}
//----------------------------------------------------------------------------
//满减卷模块
message CashVoucher {
  BackImage pc = 1;
  BackImage mob = 2;

  repeated Voucher SG = 3;
  repeated Voucher MY = 4;
  repeated Voucher TH = 5;
	repeated Voucher ID = 6;
	DisableCatalog disableCatalog = 7;
}


message Voucher {
  int64 voucherTypeId = 1;
  int32 startTime = 2;
  int32 endTime = 3;
  string image = 4;
  bool canGet = 5;
  string pcLink = 6;
  string mobLink = 7;
}

message BackImage {
  string image = 1;
  string color = 2;
}

// ---------------------------------------------------------------------------
// 家居馆模块，三栏
message ThreeColumn {
	LeftFloor leftFloor = 1;
	BannerPC middleBanner = 2;
	BannerPC rightBanner = 3;
	repeated Link topCategories = 4;
	DisableCatalog disableCatalog = 5;
}

message LeftFloor {
	string title = 1;
	repeated FloorCategorie floors = 2;
	string backColor = 3;
}

message FloorCategorie {
	Link title = 1;
	repeated Link categories = 2;
}

message Link {
	string text = 1;
	string link = 2;
}

message ColumnBanner {
	bool isSame = 2;
	CatelogBanner SG = 3;
	CatelogBanner MY = 4;
	CatelogBanner TH = 5;
	CatelogBanner ID = 6;
	DisableCatalog disableCatalog = 7;
}

message CatelogBanner {
	PlatformBanner pc = 1;
	PlatformBanner mob = 2;
}

message PlatformBanner {
	ImgNaturalSize imgNaturalSize = 1;
	repeated ColumnBannerItem banners = 2;
	int32 lineBannerNumber = 3;
}

message ImgNaturalSize {
	int32 width = 1;
	int32 height = 2;
}

message ColumnBannerItem {
	string image = 1;
	string link = 2;
}

message PageItem {
	string slug = 1;
	string name = 2;
	Platform platform = 3;
	Catalog catalog = 4;
	string title = 5;
	repeated string keywords = 6;
	string desc = 7;
  	Background bg = 11;
	string creater = 8;
	int64 updateDate = 9;
	string updater = 10;
	int32 pageId = 12;
	TimingInfo timingInfo = 14;
}

enum PublishType {
	PublishTypeNotSet = 0;
	PublishTypePending = 1;
	PublishTypeSuccess = 2;
	PublishTypeStop = 3;
}

message TimingInfo {
	int64 publishDate = 1;
	PublishType type =2;
	string publishBy =3;
}

message CategoryModule {
	MagicBannerPc magicBanner = 1;
	BannerPC middleBanner = 2;
	repeated Link topCategories = 3;
	DisableCatalog disableCatalog = 4;
}

//--------------------------------------------------
//列表商品模块
message ProductListModule {
 	repeated ProductListTab tabs = 1; 
  DisablePlatform dislablePlatform = 2;
  DisableCatalog disableCatalog = 3;
  string TmplPc = 5;
	string TmplMob = 6;
	bool hasTab = 7;
	bool stickTab = 8;
	bool showFilter = 9;
	string mobColor1 = 10;
	string mobColor2 = 11;
	string mobColor3 = 12;
	string pcColor1 = 13;
}

message ProductListTab {
	string name = 3;
	int32 index = 4;
	string url = 1;
	repeated string blacks = 2;
	int32 maxQuantity = 5;
	bool blockTaobao = 6;
}

//倒计时模块
message CountDownModule {
	DisablePlatform dislablePlatform = 1;
  DisableCatalog disableCatalog = 2;
	string startTime = 3;
	string endTime = 4;
	CountDownBannerPc bannerPc = 5;
	CountDownBannerMob bannerMob = 6;
}

message CountDownBannerPc {
	Size size = 1;
	string link = 2;
	string image = 3;
	string background = 4;
}

message CountDownBannerMob {
	Size size = 1;
	string link = 2;
	string image = 3;
	string background = 4;
}



